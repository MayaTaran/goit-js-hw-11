{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst getForm = document.querySelector(\"form\");\nconst KEY = '42649910-6a5238a097d86367028b0f975';\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst PARAM = \"image_type=photo&orientation=horizontal&safesearch=true\";\nlet inputWord;\nconst getList = document.querySelector(\"ul#image-list\");\nconst loader = document.querySelector('.loader');\n\n\ngetForm.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    inputWord = event.currentTarget.querySelector('input').value;\n\n    const formattedInput = inputWord.split(' ').join('+');\n\n    if (formattedInput.trim() !== '') {\n        const LINK = `${BASE_URL}?key=${KEY}&q=${formattedInput}&${PARAM}`;\n        loader.style.display = 'block';\n\n        const serverPromise = new Promise((resolve, reject) => {\n            fetch(LINK)\n                .then(response => {\n                    if (!response.ok) {\n                        throw new Error(`${response.status}`);\n                    }\n                    return response.json();\n                })\n                .then(data => {\n                    if (data.hits.length === 0) {\n                        iziToast.show({\n                            title: '!',\n                            message: 'Sorry, there are no images matching your search query. Please try again!',\n                            color: \"#EF4040\",\n                            messageColor: \"#fff\",\n                            titleColor: \"#fff\",\n                            position: 'topRight'\n                        });\n                        getList.innerHTML = '';\n                        getForm.reset();\n                    } else {\n                        const images = data.hits;\n                        console.log(images);\n\n                        getList.innerHTML = images.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => {\n                            return `<li class=\"card\">\n                                <a href=\"${largeImageURL}\" data-caption=\"${tags}\">\n                                    <img class=\"card-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n                                    <ul class=\"discription-list\">\n                                        <li>\n                                            <h3 class=\"disc-name\">Likes</h3>\n                                            <p class=\"disc-value\">${likes}</p>\n                                        </li>\n                                        <li>\n                                            <h3 class=\"disc-name\">Views</h3>\n                                            <p class=\"disc-value\">${views}</p>\n                                        </li>\n                                        <li>\n                                            <h3 class=\"disc-name\">Comments</h3>\n                                            <p class=\"disc-value\">${comments}</p>\n                                        </li>\n                                        <li>\n                                            <h3 class=\"disc-name\">Downloads</h3>\n                                            <p class=\"disc-value\">${downloads}</p>\n                                        </li>\n                                    </ul>\n                                </a>\n                            </li>`;\n                        }).join('');\n\n                        const lightbox = new SimpleLightbox('.card a', {\n                            captionsData: \"title\"\n                        });\n                        lightbox.refresh();\n                        getForm.reset();\n                    }\n                })\n                .catch(error => {\n                    iziToast.show({\n                        title: '!',\n                        message: `Error ${error.message}`,\n                        color: \"#EF4040\",\n                        messageColor: \"#fff\",\n                        titleColor: \"#fff\",\n                        position: 'topRight'\n                    });\n                })\n                .finally(() => {\n                    loader.style.display = 'none';\n                });\n        });\n    }\n});\n"],"names":["getForm","KEY","BASE_URL","PARAM","inputWord","getList","loader","event","formattedInput","LINK","resolve","reject","response","data","iziToast","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","error"],"mappings":"6vBAWA,MAAMA,EAAU,SAAS,cAAc,MAAM,EACvCC,EAAM,qCACNC,EAAW,2BACXC,EAAQ,0DACd,IAAIC,EACJ,MAAMC,EAAU,SAAS,cAAc,eAAe,EAChDC,EAAS,SAAS,cAAc,SAAS,EAG/CN,EAAQ,iBAAiB,SAAWO,GAAU,CAC1CA,EAAM,eAAc,EACpBH,EAAYG,EAAM,cAAc,cAAc,OAAO,EAAE,MAEvD,MAAMC,EAAiBJ,EAAU,MAAM,GAAG,EAAE,KAAK,GAAG,EAEpD,GAAII,EAAe,KAAM,IAAK,GAAI,CAC9B,MAAMC,EAAO,GAAGP,CAAQ,QAAQD,CAAG,MAAMO,CAAc,IAAIL,CAAK,GAChEG,EAAO,MAAM,QAAU,QAED,IAAI,QAAQ,CAACI,EAASC,IAAW,CACnD,MAAMF,CAAI,EACL,KAAKG,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,GAAGA,EAAS,MAAM,EAAE,EAExC,OAAOA,EAAS,MACpC,CAAiB,EACA,KAAKC,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EACrBC,EAAS,KAAK,CACV,MAAO,IACP,QAAS,2EACT,MAAO,UACP,aAAc,OACd,WAAY,OACZ,SAAU,UACtC,CAAyB,EACDT,EAAQ,UAAY,GACpBL,EAAQ,MAAK,MACV,CACH,MAAMe,EAASF,EAAK,KACpB,QAAQ,IAAIE,CAAM,EAElBV,EAAQ,UAAYU,EAAO,IAAI,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAC1F;AAAA,2CACQL,CAAa,mBAAmBC,CAAI;AAAA,mEACZF,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,oEAIzBC,CAAK;AAAA;AAAA;AAAA;AAAA,oEAILC,CAAK;AAAA;AAAA;AAAA;AAAA,oEAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,oEAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,kCAKpD,EAAE,KAAK,EAAE,EAEO,IAAIC,EAAe,UAAW,CAC3C,aAAc,OAC1C,CAAyB,EACQ,QAAO,EAChBvB,EAAQ,MAAK,CAChB,CACrB,CAAiB,EACA,MAAMwB,GAAS,CACZV,EAAS,KAAK,CACV,MAAO,IACP,QAAS,SAASU,EAAM,OAAO,GAC/B,MAAO,UACP,aAAc,OACd,WAAY,OACZ,SAAU,UAClC,CAAqB,CACrB,CAAiB,EACA,QAAQ,IAAM,CACXlB,EAAO,MAAM,QAAU,MAC3C,CAAiB,CACjB,CAAS,CACJ,CACL,CAAC"}